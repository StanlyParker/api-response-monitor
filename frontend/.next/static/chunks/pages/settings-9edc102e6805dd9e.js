(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{2837:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings",function(){return e(7425)}])},8937:function(t,n,e){"use strict";e.d(n,{Kt:function(){return c},NM:function(){return o},PF:function(){return s}});var r=e(7066);let a=e(3454).env.NEXT_PUBLIC_API_BASE||"http://localhost:4000/api";async function o(t){return(await r.Z.get("".concat(a,"/monitors/").concat(t))).data}async function s(t){return(await r.Z.post("".concat(a,"/monitors"),t)).data}async function c(t){return(await r.Z.get("".concat(a,"/metrics/").concat(t))).data}},7425:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return l}});var r=e(5893),a=e(7294),o=e(8937),s=e(1163),c=e(9374),i=e.n(c);function l(){let[t,n]=(0,a.useState)(""),[e,c]=(0,a.useState)(1e3),[l,u]=(0,a.useState)(null),m=(0,s.useRouter)();async function d(n){n.preventDefault(),u(null);try{await (0,o.PF)({url:t,threshold:e}),m.push("/")}catch(t){t instanceof Error?u(t.message):u("Failed to create monitor")}}return(0,r.jsxs)("main",{className:"container py-5",children:[(0,r.jsx)("h1",{children:"Add Monitor"}),(0,r.jsxs)("form",{onSubmit:d,className:"mt-4 ".concat(i().formContainer),children:[(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{htmlFor:"monitor-url",className:"form-label",children:"URL"}),(0,r.jsx)("input",{id:"monitor-url",className:"form-control",value:t,onChange:t=>n(t.target.value),required:!0,placeholder:"https://example.com"})]}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{className:"form-label",children:"Alert Threshold (ms)"}),(0,r.jsx)("input",{type:"number",id:"alert-threshold",className:"form-control",value:e,onChange:t=>c(Number(t.target.value)),required:!0,min:100,placeholder:"1000"})]}),l&&(0,r.jsx)("div",{className:"alert alert-danger",children:l}),(0,r.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Create Monitor"})]})]})}},9374:function(t){t.exports={formContainer:"settings_formContainer__0W_jP"}}},function(t){t.O(0,[143,888,774,179],function(){return t(t.s=2837)}),_N_E=t.O()}]);